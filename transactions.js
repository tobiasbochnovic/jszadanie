const transactions = [
  {
    id: "ord-12345",
    createdAt: 1709481632000,
    state: "pending",
    year: 2024,
    amount: 129.99,
    customerName: "Alice Johnson",
    items: 3,
    shippingMethod: "express",
    deviceType: "mobile",
    priority: "high",
  },
  {
    id: "ord-67890",
    createdAt: 1708272032000,
    state: "paid",
    year: 2024,
    amount: 75.5,
    customerName: "Bob Smith",
    paymentMethod: "credit_card",
    location: "New York",
    tags: ["electronics", "sale"],
  },
  {
    id: "ord-24680",
    createdAt: 1707062432000,
    state: "canceled",
    year: 2024,
    amount: 199.99,
    customerName: "Charlie Brown",
    reason: "out_of_stock",
    refundStatus: "processed",
    customerRating: 2,
  },
  {
    id: "ord-13579",
    createdAt: 1705852832000,
    state: "paid",
    year: 2024,
    amount: 42.25,
    customerName: "Diana Prince",
    loyaltyPoints: 150,
    discountApplied: true,
    giftWrapped: true,
  },
  {
    id: "ord-97531",
    createdAt: 1704643232000,
    state: "pending",
    year: 2024,
    amount: 349.99,
    customerName: "Edward Norton",
    items: 1,
    backOrdered: true,
    estimatedDelivery: "2024-03-15",
  },
  {
    id: "ord-86420",
    createdAt: 1703433632000,
    state: "canceled",
    year: 2023,
    amount: 89.95,
    customerName: "Fiona Apple",
    reason: "customer_request",
    previousOrders: 7,
    customerSince: "2020-05-12",
  },
  {
    id: "ord-11223",
    createdAt: 1702224032000,
    state: "paid",
    year: 2023,
    amount: 129.5,
    customerName: "George Clooney",
    paymentMethod: "paypal",
    shippingCost: 12.99,
    taxAmount: 10.76,
  },
  {
    id: "ord-33445",
    createdAt: 1701014432000,
    state: "pending",
    year: 2023,
    amount: 59.99,
    customerName: "Hannah Montana",
    promoCode: "SUMMER23",
    discountPercent: 15,
    referralSource: "instagram",
  },
  {
    id: "ord-55667",
    createdAt: 1699804832000,
    state: "paid",
    year: 2023,
    amount: 249.99,
    customerName: "Ian McKellen",
    items: 5,
    giftMessage: "Happy Birthday!",
    internationalShipping: true,
  },
  {
    id: "ord-77889",
    createdAt: 1698595232000,
    state: "canceled",
    year: 2023,
    amount: 19.99,
    customerName: "Julia Roberts",
    reason: "payment_failed",
    attemptedRetry: true,
    customerNotified: true,
  },
  {
    id: "ord-99001",
    createdAt: 1697385632000,
    state: "paid",
    year: 2023,
    amount: 399.99,
    customerName: "Kevin Hart",
    paymentMethod: "bitcoin",
    deviceBrand: "Apple",
    browserUsed: "Chrome",
  },
  {
    id: "ord-22334",
    createdAt: 1696176032000,
    state: "pending",
    year: 2023,
    amount: 149.95,
    customerName: "Laura Dern",
    items: 2,
    wishlistAdded: true,
    savedForLater: ["SKU-8877", "SKU-9988"],
  },
  {
    id: "ord-44556",
    createdAt: 1694966432000,
    state: "paid",
    year: 2023,
    amount: 79.99,
    customerName: "Michael Jordan",
    subscriptionRenewal: true,
    membershipLevel: "gold",
    autoRenew: true,
  },
  {
    id: "ord-66778",
    createdAt: 1693756832000,
    state: "canceled",
    year: 2023,
    amount: 299.99,
    customerName: "Nancy Drew",
    reason: "found_better_price",
    competitorPrice: 249.99,
    feedbackProvided: true,
  },
  {
    id: "ord-88990",
    createdAt: 1692547232000,
    state: "pending",
    year: 2023,
    amount: 59.5,
    customerName: "Oscar Wilde",
    paymentPending: true,
    reminderSent: false,
    cartAbandoned: false,
  },
  {
    id: "ord-10293",
    createdAt: 1691337632000,
    state: "paid",
    year: 2023,
    amount: 129.99,
    customerName: "Penelope Cruz",
    paymentMethod: "apple_pay",
    deviceOS: "iOS 16",
    appVersion: "3.4.2",
  },
  {
    id: "ord-30495",
    createdAt: 1690128032000,
    state: "canceled",
    year: 2023,
    amount: 49.99,
    customerName: "Quentin Tarantino",
    reason: "changed_mind",
    itemsReturned: 0,
    storeCredit: 0,
  },
  {
    id: "ord-50697",
    createdAt: 1688918432000,
    state: "pending",
    year: 2023,
    amount: 199.5,
    customerName: "Rachel Green",
    items: 7,
    giftRegistry: true,
    eventType: "wedding",
  },
  {
    id: "ord-70899",
    createdAt: 1687708832000,
    state: "paid",
    year: 2023,
    amount: 89.99,
    customerName: "Steve Rogers",
    paymentMethod: "gift_card",
    giftCardBalance: 10.01,
    cardLastFour: "1234",
  },
  {
    id: "ord-90123",
    createdAt: 1686499232000,
    state: "canceled",
    year: 2023,
    amount: 159.95,
    customerName: "Tina Fey",
    reason: "delivery_too_slow",
    originalETA: "2023-07-15",
    customerPatience: "low",
  },
  {
    id: "ord-12345",
    createdAt: 1685289632000,
    state: "pending",
    year: 2023,
    amount: 29.99,
    customerName: "Uma Thurman",
    items: 1,
    isDigitalProduct: true,
    downloadAvailable: false,
  },
  {
    id: "ord-23456",
    createdAt: 1684080032000,
    state: "paid",
    year: 2023,
    amount: 499.99,
    customerName: "Vincent Vega",
    paymentMethod: "financing",
    monthlyPayment: 41.67,
    termLength: 12,
  },
  {
    id: "ord-34567",
    createdAt: 1682870432000,
    state: "canceled",
    year: 2023,
    amount: 79.5,
    customerName: "Walter White",
    reason: "suspicious_activity",
    flaggedForReview: true,
    securityNotes: "Possible fraud attempt",
  },
  {
    id: "ord-45678",
    createdAt: 1681660832000,
    state: "pending",
    year: 2023,
    amount: 149.99,
    customerName: "Xena Warrior",
    items: 4,
    preOrder: true,
    releaseDate: "2023-09-30",
  },
  {
    id: "ord-56789",
    createdAt: 1680451232000,
    state: "paid",
    year: 2023,
    amount: 39.95,
    customerName: "Yoda Master",
    paymentMethod: "store_credit",
    loyaltyTier: "platinum",
    birthdayMonth: "May",
  },
  {
    id: "ord-67890",
    createdAt: 1679241632000,
    state: "canceled",
    year: 2023,
    amount: 259.99,
    customerName: "Zack Morris",
    reason: "item_damaged",
    replacementOffered: true,
    photosUploaded: 3,
  },
  {
    id: "ord-78901",
    createdAt: 1678032032000,
    state: "pending",
    year: 2023,
    amount: 99.99,
    customerName: "Amy Adams",
    items: 2,
    expeditedShipping: true,
    estimatedArrival: "2023-03-15",
  },
  {
    id: "ord-89012",
    createdAt: 1676822432000,
    state: "paid",
    year: 2023,
    amount: 179.95,
    customerName: "Bruce Wayne",
    paymentMethod: "bank_transfer",
    corporateAccount: true,
    taxExempt: true,
  },
  {
    id: "ord-90123",
    createdAt: 1675612832000,
    state: "canceled",
    year: 2023,
    amount: 69.99,
    customerName: "Celine Dion",
    reason: "address_error",
    attemptedContact: 2,
    resolutionTime: 48,
  },
];


function groupTransactions(transactions) {
  return transactions
    .filter(trans => trans.state === "canceled") // Vyberieme len cancelled transakcie
    .sort((a, b) => b.createdAt - a.createdAt) //Zoradime podla created at
    .reduce((acc, trans) => {
      if (!acc[trans.year]) {
        acc[trans.year] = []; // Ak rok este neexistuje vytvorime
      }
      acc[trans.year].push({
        id: trans.id,
        createdAt: trans.createdAt,
        amount: trans.amount,
        customerName: trans.customerName,
      });
      return acc;
    }, {});
}
const result = groupTransactions(transactions);
console.log(result);
